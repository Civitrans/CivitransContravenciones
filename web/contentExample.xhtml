<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="#{loginBean.plantilla}"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <h:form id="fmrExample">
            <div class="content-wrapper">
                <div class="row">
                    <div class="col-lg-12">
                        <p:messages closable="true" autoUpdate="false" id="msg" showDetail="false" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h:panelGrid id="consultMenu" class="col-lg-12">
                            <h:panelGroup rendered="true">
                                <section class="content-header">

                                    <h1>
                                        Gestión De Recursos
                                        <small>Modulo que permitira consultar, editar e ingresar un nuevo recurso</small>
                                    </h1>
                                    <ol class="breadcrumb">
                                        <li><a href="inicio.xhtml"><i class="fa fa-dashboard"></i> Inicio</a></li>
                                        <li><a href="contentExample.xhtml"><i class="fa fa-briefcase"></i> Example</a></li>
                                        <li class="active">Gestion Recursos</li>
                                    </ol>

                                </section>
                            </h:panelGroup>
                        </h:panelGrid>
                    </div>
                </div>

                <br></br>

                <div class="row">
                    <div class="col-lg-12">
                        <h:panelGrid id="consultas" class="col-lg-12">
                            <h:panelGroup rendered="true">
                                <div class="col-md-12">
                                    <div class="nav-tabs-custom">
                                        <ul class="nav nav-tabs">
                                            <li class="active"><a href="#nombre" data-toggle="tab">Nombre Recurso</a></li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="active tab-pane" id="nombre">
                                                hola
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </h:panelGroup>

                        </h:panelGrid>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12"> 
                        <h:panelGrid id="tablaResult" class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                            <h:panelGroup rendered="true">
                                <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                    <div class="box box-primary">
                                        <div class="box-body">
                                            <h:dataTable id="resultado" class="table table-striped table-bordered table-hover" value="#{gestionrecursosBean.listRecursos}"  var="recu" cellspacing="0">
                                                <h:column>
                                                    <f:facet name="header">#</f:facet>
                                                        #{recu.recId}
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header">NOMBRE RECURSO</f:facet>
                                                        #{recu.recNombre} 
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header">DESCRIPCIÓN</f:facet>
                                                        #{recu.recDescripcion} 
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header">MÓDULO</f:facet>
                                                        #{gestionrecursosBean.listModulos.get(recu.civModulos.modId.intValue())}
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header">ESTADO</f:facet>
                                                        #{gestionrecursosBean.listEstadoRecurso.get(recu.recEstado.intValue())}
                                                </h:column>
                                                <h:column>
                                                    <f:facet name="header">DETALLE</f:facet>
                                                    <h:commandLink class="fa fa-eye">  <!-- onclick="$('#exampleModal').modal('toggle')" -->
                                                        <f:ajax event="click" listener="#{gestionrecursosBean.detalle(recu)}" execute="recurso" render="@form" />
                                                    </h:commandLink>
                                                </h:column>
                                            </h:dataTable>
                                        </div>
                                    </div>
                                </div>
                            </h:panelGroup> 
                        </h:panelGrid>
                    </div>
                </div>
            </div>
        </h:form>


    </ui:define>

</ui:composition>
